
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zentralitätsmasse &#8212; Angewandte Geoinformatik AGI</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="prev" title="Anhang" href="04_00_Anhang.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/zhaw_lsfm_iunr_blau.jpg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Angewandte Geoinformatik AGI</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Dieses Buch durchsuchen ..." aria-label="Dieses Buch durchsuchen ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Einleitung
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Coding in GIS I - III
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../02_Coding_in_GIS/00_00_Einleitung.html">
   Einleitung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02_Coding_in_GIS/01_01_Coding_in_GIS_1.html">
   Coding in GIS I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02_Coding_in_GIS/02_01_Coding_in_GIS_2.html">
   Coding in GIS II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02_Coding_in_GIS/03_01_Coding_in_GIS_3.html">
   Coding in GIS III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02_Coding_in_GIS/04_01_Leistungsnachweis.html">
   Leistungsnachweis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02_Coding_in_GIS/05_00_Anhang.html">
   Anhang
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Netzwerkanalyse I - III
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="00_00_Einleitung.html">
   Einleitung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_01_Vorbereitung.html">
   Vorbereitung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_00_Anhang.html">
   Anhang
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Zentralitätsmasse
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Built with ❤ and <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Navigation umschalten" aria-controls="site-navigation"
            title="Navigation umschalten" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Laden Sie diese Seite herunter"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/04_Netzwerkanalyse/00_02_Netzwerkanalyse_I.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Quelldatei herunterladen" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="In PDF drucken"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Vollbildmodus"
                title="Vollbildmodus"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Inhalt
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#einfache-gis-operationen-mit-qgis">
   1. Einfache GIS Operationen mit QGIS
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-1-daten-transformieren">
     Übung 1: Daten Transformieren
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-2-daten-clippen">
     Übung 2: Daten Clippen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#arbeiten-mit-grass-gis-plugin">
   2. Arbeiten mit GRASS GIS Plugin
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-3-topologie-bereinigen">
     Übung 3: Topologie bereinigen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-4-losgeloste-getrennte-elemente-entfernen">
     Übung 4: Losgelöste (getrennte) Elemente entfernen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-5-zentralitatsmasse-berechnen">
     Übung 5: Zentralitätsmasse berechnen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-6-zentralitatsmasse-visualisieren">
     Übung 6: Zentralitätsmasse Visualisieren
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ubung-7-zentralitatsmasse-vergleichen">
     Übung 7: Zentralitätsmasse vergleichen
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="zentralitatsmasse">
<h1>Zentralitätsmasse<a class="headerlink" href="#zentralitatsmasse" title="Link zu dieser Überschrift">¶</a></h1>
<p>KW 45</p>
<div class="attention admonition">
<p class="admonition-title">Übungsziele</p>
<ul class="simple">
<li><p>Einfache GIS-Operationen mit QGIS durchführen können (Clip, Reproject, Abfrage der Attributtabelle,
Symbolisierung, Export als jpg)</p></li>
<li><p>Schnittstelle zwischen QGIS und anderer GIS-Software am Beispiel GRASS kennenlernen</p></li>
<li><p>Erste Netzwerkoperationen mit QGIS/GRASS GIS durchführen</p></li>
<li><p>Netzwerk-Zentralitätsmasse verstehen und für einfache Netzwerkdaten berechnen</p></li>
</ul>
</div>
<div class="section" id="einfache-gis-operationen-mit-qgis">
<h2>1. Einfache GIS Operationen mit QGIS<a class="headerlink" href="#einfache-gis-operationen-mit-qgis" title="Link zu dieser Überschrift">¶</a></h2>
<p>Starten Sie «QGIS 3. 10 .0 with GRASS GIS 7. 8 .1», beginnen Sie ein neues QGIS Projekt und speichern dies an
einem geeigneten Ort (siehe Vorbereitungsübungen) ab. Weisen Sie dem Projekt das Koordinatensystem
EPSG 2056 zu und importieren die Gemeindegrenze sowie die OSM Strassendaten aus der
Vorbereitungsübung.</p>
<div class="section" id="ubung-1-daten-transformieren">
<h3>Übung 1: Daten Transformieren<a class="headerlink" href="#ubung-1-daten-transformieren" title="Link zu dieser Überschrift">¶</a></h3>
<p>Die OSM Daten sind aktuell noch im Koordinatensystem WGS84 (EPSG 4326). Die Gemeindegrenze hingegen
ist mit den neuen Schweizer Landeskoordinaten CH1903+ LV95 (EPSG 2056) abgespeichert. Wir wollen in
unserer Analyse mit CH1903+ LV95 (EPSG 2056) arbeiten. Transformieren Sie dazu den Strassendatensatz in
das Koordinatensystem CH1903+ LV95 (EPSG 2056). Nutzen Sie dazu das Tool «Reproject Layer».</p>
<p>Viele wichtige Tools lassen sich über den Menü Bar aufrufen (v.a. «Vector» und «Raster»). Die Tools lassen
sich auch relativ rasch mit der Suchfunktion der «Processing Toolbox» finden.</p>
<div class="figure align-default" id="figure-1">
<img alt="../_images/ueb1_fig1.jpg" src="../_images/ueb1_fig1.jpg" />
</div>
</div>
<div class="section" id="ubung-2-daten-clippen">
<h3>Übung 2: Daten Clippen<a class="headerlink" href="#ubung-2-daten-clippen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Zoomen sie auf die Gemeindegrenze (Layers Panel -&gt; Rechtsklick auf Datensatz -&gt; Zoom to layer»). Es ist
ersichtlich, dass die Strassendaten über die Gemeindegrenze hinaus verlaufen. Wir möchten für die
kommenden Übungen nur die Strassen, die <em>innerhalb</em> der Gemeinde Wädenswil liegen. Dazu müssen wir das
Strassennetz mit der Gemeindegrenze verschneiden («clip»). Führen Sie das gleichnamige Werkzeug mit
dem Input Layer «OSM_highway» und dem Clip Layer «Stadt_ Waedenswil.gpkg» aus.</p>
<p>Es gibt eine ganze Reihe Werkzeuge zum Begriff «clip». Entscheiden Sie selbst, welches für diese
Fragestellung geeignet ist.</p>
</div>
</div>
<div class="section" id="arbeiten-mit-grass-gis-plugin">
<h2>2. Arbeiten mit GRASS GIS Plugin<a class="headerlink" href="#arbeiten-mit-grass-gis-plugin" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die mächtigsten (aber nicht die einzigen*) Netzwerkanalyse Werkzeuge in QGIS stammen aus dem
eigenständigen GIS «GRASS GIS», welches bei der Installation von QGIS mitinstalliert wird. Diese können
innerhalb von QGIS verwendet werden.</p>
<ul class="simple">
<li><p>Da QGIS wie bereits erwähnt von verschiedenen Personen und Gruppen entwickelt wird, gibt es auch
Doppelspurigkeiten, die man so in einer kommerziellen Software wie ArcGIS weniger vorfindet. In dieser
Hinsicht ist QGIS sehr ähnlich wie die Programmiersprache R.</p></li>
</ul>
<div class="section" id="ubung-3-topologie-bereinigen">
<h3>Übung 3: Topologie bereinigen<a class="headerlink" href="#ubung-3-topologie-bereinigen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Das OSM Strassennetz «osm_highway» ist topologisch nicht perfekt für unsere Zwecke vorbereitet. An
Kreuzungen fehlen teilweise Knoten, welche ein «abbiegen» auf der Kreuzung ermöglich. Um diesen
Umstand zu beheben, nutzen wir das Tool «v.clean» und führen damit die Operation «break» durch.
Dadurch werden Linien an Kreuzungen unterbrochen. Diese Operation löst einige topologische Fehler, führt
z.B. bei Brücken und Tunnels aber euch neue Unstimmigkeiten ein, die Sie an dieser Stelle aber getrost
ignorieren können.</p>
<ol class="simple">
<li><p>Werkzeug “v.clean” auswählen</p></li>
<li><p>Parameter:
a. <em>Layer to clean</em> : Transformierter und geclippter OSM Strassendatensatz
b. <em>Cleaning tool</em> : break
c. <em>v.out.ogr output type:</em> auto</p></li>
<li><p>Mit “Run” ausführen</p></li>
</ol>
</div>
<div class="section" id="ubung-4-losgeloste-getrennte-elemente-entfernen">
<h3>Übung 4: Losgelöste (getrennte) Elemente entfernen<a class="headerlink" href="#ubung-4-losgeloste-getrennte-elemente-entfernen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Aufmerksamen Anwendern könnte nun auffallen, dass gewisse Bestandteile des Netzwerks nicht mit dem
Hauptnetz verbunden sind. Diese getrennten Elemente können mit dem Werkzeug v.net.components
identifiziert werden. Das Werkzeug prüft, welche Bestandteile des Netzwerkes miteinander verbunden sind
und gruppiert diese mit Nummern. Im Idealfall sollte unser Netzwerk aus einer Gruppe bestehen; so wäre
jeder Knotenpunkt mit jedem andern Knotenpunkt verbunden: Bei uns ist dies jedoch nicht der Fall. Damit
wir in den nachstehenden Übungen mit einem sauberen Datensatz arbeiten können, bereinigen wir dieses
Problem an dieser Stelle:</p>
<ol class="simple">
<li><p>Führen Sie das Werkzeug aus
a. <em>Type of components</em> : «strong»
b. <em>V.out.ogr output type:</em> auto</p></li>
<li><p>Symbolisieren den entstandenen Liniendatensatz nach den vergebenen Kategorien («comp»)</p></li>
<li><p>Ermitteln Sie die Nummer der Hauptkategorie (z.B. mit dem Werkzeug «Identify Features»</p></li>
<li><p>Öffnen Sie die Attributtabelle und machen eine «Selektion anhand einer Abfrage» («Select Features
using an expression» [1])</p></li>
<li><p>Selektieren Sie die Hauptkategorie mittels einer korrekten Abfrage (z.B. comp = 99). QGIS bietet
ihnen hierfür leider wenig Hilfestellung (im Gegensatz zum Query Builder von ArcGIS)</p></li>
<li><p>Um sich von den anderen Kategorien zu trennen, haben Sie nun zwei Möglichkeiten:
a. Eine Editiersession starten [2], die Selektion invertieren [3] und die selektierten Daten
löschen [4]. Speichern Sie den Layer anschliessend mit folgendem Namen ab:
«osm_highway_prepared.gpkg»
ODER
b. Selektierte Daten (ohne Invertierung) in ein neues File exportieren mittels Rechtsklick auf
den Layer -&gt; «Save as» -&gt; Häkchen bei «Save only selected features» -&gt; Speichern als
«osm_highway_prepared.gpkg»</p></li>
</ol>
<div class="figure align-default" id="figure-2">
<img alt="../_images/ueb1_fig2.jpg" src="../_images/ueb1_fig2.jpg" />
</div>
</div>
<div class="section" id="ubung-5-zentralitatsmasse-berechnen">
<h3>Übung 5: Zentralitätsmasse berechnen<a class="headerlink" href="#ubung-5-zentralitatsmasse-berechnen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Nun kann mit der eigentlichen Netzwerkanalyse begonnen werden. Wir rechnen für unser bereinigtes
Strassennetz verschiedene Zentralitätsmasse.</p>
<ol class="simple">
<li><p>v.net.centrality starten</p></li>
<li><p>Parameter</p>
<ul class="simple">
<li><p><em>Input vector line layer</em> : Bereinigter Output aus letzter Übung</p></li>
<li><p><em>Centers point layer (nodes):</em> Punkt-Output aus letzter Übung</p></li>
<li><p><em>Name of betweenness centrality column</em> : “betwCt”. Wichtig: dieser Variablenname darf nicht
„between“ oder „betweenness“ lauten, sonst gibt es einen Ausführungsfehler.</p></li>
<li><p><em>v.out.ogr output type</em> : auto</p></li>
</ul>
</li>
<li><p>Mit “run” ausführen</p></li>
<li><p>Speichern Sie die Resultierende Datei in ihrem Ordner ab («waedenswil_centrality.gpkg»)</p></li>
</ol>
</div>
<div class="section" id="ubung-6-zentralitatsmasse-visualisieren">
<h3>Übung 6: Zentralitätsmasse Visualisieren<a class="headerlink" href="#ubung-6-zentralitatsmasse-visualisieren" title="Link zu dieser Überschrift">¶</a></h3>
<p>Visualisieren Sie die Ausprägung «Closeness» der berechneten Zentralitätswerte über die Symbologie (Layer
Properties -&gt; Style -&gt; Graduated). Wählen Sie eine geeignete Methode und passen Sie den Stil an, bis er
Ihnen gefällt. Spielen Sie dabei mit der Klassifikationsmethode (Mode: Equal interval, Quantile, Natural
Breaks..) sowie der Color ramp rum. Achten Sie darauf, dass Sie immer auf «Classify» klicken müssen, um
Änderungen anzuwenden.</p>
</div>
<div class="section" id="ubung-7-zentralitatsmasse-vergleichen">
<h3>Übung 7: Zentralitätsmasse vergleichen<a class="headerlink" href="#ubung-7-zentralitatsmasse-vergleichen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Installieren Sie das Plugin «QuickMapServices» um eine OSM Hintergrundkarte einzubinden. Um direkt in
QGIS die Zentralitätsmasse zu vergleichen, duplizieren sie den entsprechenden Layer noch zweimal
(rechtsklick -&gt; Duplicate) – so können Sie jede der Zentralitäten separat symbolisieren und vergleichen. Sie
können auch für jedes der Zentralitätsmasse eine Karte exportieren via Project -&gt; Save as Image.</p>
<p>Vergleichen Sie die drei Zentralitätsmasse und setzen Sie sie in den Kontext der Theorie.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./04_Netzwerkanalyse"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="04_00_Anhang.html" title="previous page">Anhang</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By FG Geoinformatik<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>